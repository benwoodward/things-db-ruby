#!/usr/bin/env ruby

$LOAD_PATH.unshift File.expand_path("..", "lib")
require 'tilt'
require 'slim'
require 'things'
require 'slim_renderer'

TIMES_OF_DAY_TAGS = {
  first_thing: ['when:first-thing'],
  morning:     ['when:morning'],
  anytime:     nil,
  afternoon:   ['when:afternoon'],
  evening:     ['when:evening']
}

TASK_CATEGORY_TAGS = {
  chores:        ['what:chore'],
  focussed_work: ['what:focussed-work', 'what:code', 'what:research'],
  other:         nil,
  errands:       ['what:errand', 'what:shopping-trip', 'what:appointment'],
  admin:         ['what:admin', 'what:phonecall', 'what:email', 'what:message'],
  downtime:      ['what:downtime', 'what:to-watch', 'what:to-read']
}

today = Today.new(
  times_of_day:    TIMES_OF_DAY_TAGS,
  task_categories: TASK_CATEGORY_TAGS
)

puts "\n\n\n\n\n\n"

renderer = SlimRenderer.new
renderer.render(today)
puts renderer.output
